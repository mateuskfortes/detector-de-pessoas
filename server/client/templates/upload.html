{% extends 'base.html' %} {% load static %} {% block title %}Upload - Object
Classifier{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'css/upload.css' %}" />
{% endblock %} {% block content %}
<div class="container mx-auto px-4 py-10 max-w-3xl">
  <h1 class="text-4xl font-bold mb-6 text-center">
    Detectar Pessoas em Imagem
  </h1>

  <form
    id="uploadForm"
    class="bg-white p-6 rounded shadow-md"
    enctype="multipart/form-data"
  >
    {% csrf_token %}
    <div class="mb-4">
      <label for="image" class="block text-gray-700 font-semibold mb-2"
        >Selecione uma imagem</label
      >
      <input
        id="image"
        name="image"
        type="file"
        accept="image/*"
        required
        class="w-full border border-gray-300 rounded p-2 cursor-pointer"
      />
    </div>

    <div id="previewContainer" class="mb-4 hidden">
      <p class="text-gray-600 mb-2 font-semibold">Pré-visualização:</p>
      <div class="flex justify-center">
        <div id="imageWrapper">
          <img
            id="preview"
            src="#"
            alt="Pré-visualização"
            class="max-h-96 rounded shadow-md border border-gray-300 object-contain"
          />
          <canvas id="canvas"></canvas>
        </div>
      </div>
    </div>

    <button
      id="submitBtn"
      type="submit"
      class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition"
    >
      Detectar Pessoas
    </button>
  </form>

  <div id="result" class="mt-10 bg-white p-6 rounded shadow-md hidden">
    <h2 class="text-2xl font-semibold mb-4 text-center">
      Resultado da Detecção
    </h2>
    <!-- Result content will be injected here by JavaScript -->
  </div>
</div>
{% endblock %} {% block extra_js %}
<script src="{% static 'js/upload.js' %}"></script>
{% endblock %}
